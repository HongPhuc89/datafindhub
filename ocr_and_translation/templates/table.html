<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/sandstone/bootstrap.min.css'>
    <link rel="stylesheet" href="{% static '/ocr_and_translation/style.css' %}">
    <script src="{% static 'ocr_and_translation/script.js' %}"></script>
    <script src='https://code.jquery.com/jquery-2.2.3.js'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
    <script src='https://cdn.rawgit.com/julmot/mark.js/master/dist/jquery.mark.min.js'></script>


    <link rel="icon" type="image/x-icon" href="{% static '/ocr_and_translation/favicon.ico' %}"/>
    <!--        <link rel="stylesheet" href="static/css/summarizer.css">-->
    <link rel="stylesheet" href="https://pwcappkit-static.azureedge.net/cdn/release/3.0.0/vendor.min.css">
    <link rel="stylesheet" href="https://pwcappkit-static.azureedge.net/cdn/release/3.0.0/appkit.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
          integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
</head>

<body>

<!-- partial:index.partial.html -->
{% include "layout/header.html" %}
<div class="container pt-5">
    <div class="panel panel-default">
        <div class="panel-heading">
            <form class="row">
                <div class="col-xs-6">
                    <div class="form-group">
                        <label for="keyword">Keywords to be highlighted:</label>
                        <input type="text" class="form-control" value="Lorem" name="keyword" id="keyword">
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-default btn-sm" name="perform">Highlight keywords</button>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="form-group">
                        <label for="accuracy">Accuracy:</label>
                        <select class="form-control" name="accuracy" id="accuracy">
                            <option value="exactly">exactly</option>
                            <option value="partially" selected>partially</option>
                            <option value="complementary">complementary</option>
                        </select>
                    </div>

                    <!--                    <div class="form-check mb-2">-->
                    <!--                        <input class="form-check-input" type="checkbox" value="true" id="diacritics">-->
                    <!--                        <label class="form-check-label" for="diacritics">-->
                    <!--                            Activate Diacritics Recognition-->
                    <!--                        </label>-->
                    <!--                    </div>-->

                    <div class="form-group">
                        <label for="diacritics" class="noTransform"></label>
                        <input type="checkbox" value="true"
                               name="diacritics" id="diacritics" checked>Activate
                        Diacritics Recognition
                    </div>
                </div>
            </form>
        </div>


    </div>
</div>
<!-- partial -->


</div>
</div>
<div class="container-xl" style="color:#000000;font-family:'Calibri'">

    <a role="button" href="{{ csv_link }}" class="a-btn a-btn-primary a-btn-md w-8">Download Table in CSV format</a>
        <table class="table table-striped table-bordered" id="data_table">
            <thead class="thead-dark">
            <tr>
                <th>Sr no.</th>
                {% for i in table.columns%}
                <th style="white-space:normal;">{{ i }}</th>
                {% endfor %}
                <th> Thumbnail</th>
            </tr>
            </thead>
            <tbody>
            {% for index, row in table.iterrows %}
            <tr>
                <td>{{ forloop.counter }}</td>

                {% for data in row %}
                <td> {{ data }}</td>
                {% endfor %}

            </tr>
            {% endfor %}

            </tbody>
        </table>
</div>
</body>

<script>
    $(document).ready(function(){
      var data = "{{ links }}".replace(/&quot;/g,"\"");
      data = (JSON.parse(data));
      console.log(data);
      $("#data_table tbody").find("tr").map((i,item)=>{
        console.log(item,i);
        $(item).append(`
          <td><a href = ${data["drive_links"][i]}><img src="/media/screenshots/${data["links"][i]}"></img></a></td>
          `)
      })
    })
</script>
</html>
